<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Xuân & Mai Wedding</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description"
    content="Phạm Thanh Xuân &amp; Hà Ánh Phương Mai - Our wedding date: 2024-11-10 | Điều tuyệt vời nhất mà bạn từng học là yêu và được yêu để đáp lại" />
  <meta name="keywords"
    content="Wedding,Phạm Thanh Xuân,Hà Ánh Phương Mai,Wedding website, Website đám cưới, Tạo website đám cưới miễn phí" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="application-name" content="iWedding" />
  <meta property="og:site_name" content="Phạm Thanh Xuân &amp; Hà Ánh Phương Mai" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Phạm Thanh Xuân &amp; Hà Ánh Phương Mai Wedding site!" />
  <meta property="og:description"
    content="Phạm Thanh Xuân &amp; Hà Ánh Phương Mai - Our wedding date: 2022-12-22 | Điều tuyệt vời nhất mà bạn từng học là yêu và được yêu để đáp lại" />
  <meta property="og:image" content="images/DSC01180.jpg" />
  <meta property="og:image:url" content="images/DSC01180.jpg" />
  <meta property="og:image:secure_url" content="images/DSC01180.jpg" />
  <link rel="shortcut icon" type="image/x-icon" href="images/favicon.png" />
  <link rel="stylesheet" type="text/css"
    href="https://preview.iwedding.info/templates/template18/css/libs.css?v=20241021" />
  <link href="https://preview.iwedding.info/common/calendar.css?v=20241021" rel="stylesheet" />
  <link rel="stylesheet" type="text/css"
    href="https://preview.iwedding.info/templates/template18/css/style.css?v=20241021" />
  <link rel="stylesheet" type="text/css"
    href="https://preview.iwedding.info/templates/template18/css/responsive.css?v=20241021" />
  
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

  <link href="https://preview.iwedding.info/templates/template18/css/plugin.css?v=20241021" rel="stylesheet"
    type="text/css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css?family=Dosis&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Great+Vibes&display=swap" rel="stylesheet" />
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K9L0ZFE1PJ"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.6.1/toastify.js"
    integrity="sha512-MnKz2SbnWiXJ/e0lSfSzjaz9JjJXQNb2iykcZkEY2WOzgJIWVqJBFIIPidlCjak0iTH2bt2u1fHQ4pvKvBYy6Q=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.6.1/toastify.css"
    integrity="sha512-VSD3lcSci0foeRFRHWdYX4FaLvec89irh5+QAGc00j5AOdow2r5MFPhoPEYBUQdyarXwbzyJEO7Iko7+PnPuBw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.6.1/toastify.min.css"
    integrity="sha512-UiKdzM5DL+I+2YFxK+7TDedVyVm7HMp/bN85NeWMJNYortoll+Nd6PU9ZDrZiaOsdarOyk9egQm6LOJZi36L2g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./styles/thiepmoi.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.6.1/toastify.min.js"
    integrity="sha512-79j1YQOJuI8mLseq9icSQKT6bLlLtWknKwj1OpJZMdPt2pFBry3vQTt+NZuJw7NSd1pHhZlu0s12Ngqfa371EA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "G-K9L0ZFE1PJ");
  </script>
</head>
<script type="text/javascript">
  var photoGalleries = [];
</script>
<link rel="stylesheet" href="./styles/index.css?v=2024104">

<body data-spy="scroll" data-target=".navbar-fixed-top" class="home-3">
  <div class="preloader-area">
    <div class="loader loader-13">
      <div class="css-heart heart1"></div>
      <div class="css-heart heart2"></div>
      <div class="css-heart heart3"></div>
      <div class="css-heart heart4"></div>
    </div>
  </div>
  <header id="inner-navigation">
    <nav class="navbar navbar-default navbar-fixed-top navbar-sticky-function navbar-arrow">
      <div class="container">
        <div class="logo pull-left">
          <a href="/">
            <h1 style="font-size: 25px">
              X<span class="main-color"><i class="fa fa-heart" style="margin: 5px 5px 5px 10px; color: red"></i></span>M
            </h1>
          </a>
          <a href="/" class="sticky-logo">
            <h1 style="font-size: 25px">
              X<span class="main-color"><i class="fa fa-heart" style="margin: 5px 5px 5px 10px; color: red"></i></span>M
            </h1>
          </a>
        </div>
        <div id="navbar" class="navbar-nav-wrapper pull-right">
          <ul class="nav navbar-nav navbar-right" id="responsive-menu">
            <li class="active">
              <a href="./index.html">Home</a>
            </li>

            <li class="active">
              <a href="./index.html">Cặp đôi</a>
            </li>
            <!-- <li class="active">
              <a href="#our-story">Chuyện tình yêu</a>
            </li> -->

            <li class="active">
              <a href="./index.html">Sự kiện cưới</a>
            </li>

            <!-- <li class="active">
              <a href="#imp-people">Phù Dâu &amp; Phù Rể</a>
            </li> -->

            <li class="active">
              <a href="./index.html">Album Hình Cưới</a>
            </li>
          </ul>
        </div>
      </div>
      <div id="slicknav-mobile"></div>
    </nav>
  </header>



<div class="NhacNen">

  <button id="toggleMusic">
    <i id="musicIcon" class="fas fa-volume-up icon"></i>
  </button>
  
  <audio id="backgroundMusic" loop>
      <source src="./music/nhacnen.mp3" type="audio/mpeg">
  </audio>

  <script>
          document.addEventListener("click", function() {
            let audio = document.getElementById("backgroundMusic");
            let musicIcon = document.getElementById("musicIcon");
            let button = document.getElementById("toggleMusic");

            if (audio.paused) {
                let playPromise = audio.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                      
                        button.prepend(musicIcon);
                        musicIcon.className = "fas fa-volume-mute icon";
                    }).catch(error => {
                        console.log("Không thể phát nhạc: ", error);
                    });
                }
              }
            // } else {
            //   audio.pause();
                
            //     button.prepend(musicIcon);
            //     musicIcon.className = "fas fa-volume-up icon";
            //     musicIcon.setAttribute('data-tooltip', 'Phát nhạc'); // Cập nhật tooltip
            // }
        });
  </script>
</div>


<div class="card">
  <div  class="thiepmoiImg">
    <img src="./images/thiepmoi.png" alt="">
  </div>
</div>

  

  <footer id="footer" class="footer-widgets" style="
        background-image: url(images/DSC00342.jpg);
        background-repeat: no-repeat;
        background-size: cover;
        background-position: left;
        background-attachment: fixed;
        width: 100%;
      ">
    <div class="footer-note">
      <h1>Thank you!</h1>
      <p>Thanh Xuân &amp; Phương Mai</p>
    </div>
    <div class="footer-copyright">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-sm-6 col-sm-offset-3">
            <p class="para">Forever And Always Our Love</p>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <div id="donate-modal" class="donate-modal">
    <div class="donate-modal-content">
      <div class="donate-modal-header">
        <span class="donate-modal-close">&times;</span>
        <strong>
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" class="bi bi-coin"
            viewBox="0 0 16 16">
            <path
              d="M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9H5.5zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518l.087.02z" />
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
            <path d="M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11zm0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12z" />
          </svg>
          <span>Hộp mừng cưới</span>
        </strong>
      </div>
      <div class="donate-modal-body">
        <div class="donate-box">
          <div class="donate-card">
            <h3>Mừng cưới đến chú rể</h3>
            <img class="qr-code-image" src="images/qr_xuanpham.jpg" loading="lazy" />
            <p>Ngân hàng: <strong>MSB</strong></p>
            <p>Tên tài khoản: <strong>0717777</strong></p>
            <p>Số tài khoản: <strong>Phạm Thanh Xuân</strong></p>

            <div class="cryptos-box-view">
              <h5>
                <span class="coin-img"></span> Địa chỉ
                <span class="coin-id"></span>
              </h5>
              <div>
                <span class="coin-address"></span>
                <div class="coin-qr-code"></div>
              </div>
              <button class="cryptos-box-view-close">Đóng</button>
            </div>
          </div>
          <div class="donate-card">
            <h3>Mừng cưới đến cô dâu</h3>
            <img class="qr-code-image" src="images/qr_xuanpham.jpg" loading="lazy" />
            <p>Ngân hàng: <strong>Techcombank</strong></p>
            <p>Tên tài khoản: <strong>1903 7907 3870 13</strong></p>
            <p>Số tài khoản: <strong>Hà Ánh Phương Mai</strong></p>

            <div class="cryptos-box-view">
              <h5>
                <span class="coin-img"></span> Địa chỉ ví
                <span class="coin-id"></span>
              </h5>
              <div>
                <span class="coin-address"></span>
                <div class="coin-qr-code"></div>
              </div>
              <button class="cryptos-box-view-close">Đóng</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div id="menu-access" class="">
    <div class="btn-menu-open">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list"
        viewBox="0 0 16 16">
        <path fill-rule="evenodd"
          d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5" />
      </svg>
    </div>
    <div class="btn-menu-close">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg"
        viewBox="0 0 16 16">
        <path
          d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" />
      </svg>
    </div>
    <ul class="p-0 m-0 list-menu-icon">

      <li class="text-center buttonDonate">
        <a href="#donate" class="text-white">
          <span class="content-button tooltipBtn">
            <span class="tooltiptext">Mừng cưới</span>
            <img class="access-icon" src="https://cdn.biihappy.com/ziiweb/images/static/common/money_bag.png" alt=""
              loading="lazy" />
          </span>
        </a>
      </li>
    </ul>
  </div>


  <script type="text/javascript">
    function parseJsonRecursively(jsonString) {
      let parsed = JSON.parse(jsonString);
      Object.keys(parsed).forEach(function (key) {
        try {
          let checkValue = JSON.parse(parsed[key]);
          if (checkValue && checkValue.constructor === Object) {
            parsed[key] = checkValue;
          }
        } catch (e) { }
      });
      return parsed;
    }
    let biicore = parseJsonRecursively(
      '{"template_id":"62ef3cfd4c248a18ec5a9b5a","templatePremium":false,"themeRoot":"https:\/\/preview.iwedding.info\/templates\/template18","webroot":"https:\/\/preview.iwedding.info","coreSite":"https:\/\/biihappy.com","webToken":"61990349db8f76231c132068","isPremium":true,"bgMusic":"https:\/\/cdn.biihappy.com\/ziiweb\/wedding-musics\/IDo-911.mp3","alert":"{\\"title\\":\\"L\\\\u1eddi c\\\\u1ea3m \\\\u01a1n t\\\\u1eeb D\\\\u00e2u & R\\\\u1ec3\\",\\"content\\":\\"Xin ch\\\\u00e2n th\\\\u00e0nh c\\\\u1ea3m \\\\u01a1n to\\\\u00e0n th\\\\u1ec3 m\\\\u1ecdi ng\\\\u01b0\\\\u1eddi \\\\u0111\\\\u00e3 g\\\\u1eedi l\\\\u1eddi ch\\\\u00fac cho v\\\\u1ee3 ch\\\\u1ed3ng ch\\\\u00fang em!\\",\\"timeout\\":5000,\\"status\\":2,\\"cancel_button_text\\":\\"\\"}","effect":"{\\"type\\":\\"snow\\"}","logo":"https:\/\/iwedding.info\/common\/imgs\/bii.png?v=20210131","url_landing_page":"https:\/\/biihappy.com\/iwedding","isAutoPlay":true,"footer_title":"iWedding | N\u1ec1n t\u1ea3ng t\u1ea1o website \u0111\u00e1m c\u01b0\u1edbi mi\u1ec5n ph\u00ed t\u1eeb Biihappy","footer_title_mobile":"T\u1ea1o website \u0111\u00e1m c\u01b0\u1edbi mi\u1ec5n ph\u00ed"}'
    );
  </script>
  <script src="https://preview.iwedding.info/templates/template18/js/jquery-plugin-collection.js?v=20241021"></script>
  <!-- <script src="https://preview.iwedding.info/common/calendar.js?v=20241021"></script> -->
  <script src="https://preview.iwedding.info/templates/template18/js/script.js?v=20241021"></script>
  <script src="js/biicommon.js?v=20241021"></script>
  <!-- <script src="https://preview.iwedding.info/common/emoji-picker/js/insertTextAtCursor.js?v=20241021"></script>
  <script type="module" src="https://preview.iwedding.info/common/emoji-picker/js/init.js?v=20241021"></script> -->
  <script>
    // Hàm gọi API để lấy danh sách người dùng
    var usersLength = 0
    async function fetchUsers() {
      try {
        const response = await fetch('https://634026bcd1fcddf69cb27c5b.mockapi.io/wish/list-wish');
        const users = await response.json();
        displayUsers(users);
        usersLength = users.length
      } catch (error) {
        console.error('Lỗi khi gọi API:', error);
      }
    }


    async function saveUser() {
      // event.preventDefault(); // Ngăn chặn hành động mặc định của form
      const name = document.getElementById('name').value;
      const content = document.getElementById('content').value;
      const createdAt = Date.now()
      // Tạo một đối tượng người dùng mới
      const newUser = { name, content, createdAt };
      if (!name?.length || !content?.length) {
        Toastify({
          text: "Vui lòng nhập tên và nội dung",
          duration: 3000,
          gravity: "bottom", // "top" or "bottom"
          position: 'center', // "left", "center" or "right"
          backgroundColor: "#333",
        }).showToast();
        return
      }

      try {
        const response = await fetch('https://634026bcd1fcddf69cb27c5b.mockapi.io/wish/list-wish', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(newUser)
        });
        if (response.ok) {
          const savedUser = await response.json();
          Toastify({
            text: "Gửi nội dung thành công!",
            duration: 3000,
            gravity: "bottom", // "top" or "bottom"
            position: 'center', // "left", "center" or "right"
            backgroundColor: "#333",
          }).showToast();
          usersLength += 1
          const userList = document.getElementById('userList');
          const div = document.createElement('div');
          div.className = usersLength % 2 === 0 ? 'wish-box-item' : 'wish-box-item bg';
          const formattedDate = formatDate(savedUser.createdAt); // Định dạng ngày từ timestamp
          div.innerHTML = `<strong>${savedUser.name}</strong><span>${formattedDate}</span><p>${savedUser.content}</p>`;
          userList ? userList.prepend(div) : userList.appendChild(div);
        } else {
          console.error('Lỗi khi lưu thông tin:', response.statusText);
        }
      } catch (error) {
        console.error('Lỗi khi gọi API:', error);
      }

      // Xóa nội dung trong form
      document.getElementById('wish-form').reset();
    }

    // Hàm hiển thị danh sách người dùng
    function displayUsers(users) {
      const userList = document.getElementById('userList');
      users.sort((a, b) => b.id - a.id)
      users.forEach((user, index) => {
        const div = document.createElement('div');
        div.id = user.id
        div.className = index % 2 === 0 ? 'wish-box-item' : 'wish-box-item bg';
        const formattedDate = formatDate(user.createdAt); // Định dạng ngày từ timestamp
        div.innerHTML = `<strong>${user.name}</strong><span>${formattedDate}</span><p>${user.content}</p>`;
        userList.appendChild(div);
      });
    }

    // Hàm chuyển đổi timestamp sang định dạng DD/MM/YYYY
    function formatDate(timestamp) {
      const date = new Date(timestamp);

      const hours = String(date.getHours()).padStart(2, '0');
      const minutes = String(date.getMinutes()).padStart(2, '0');
      const day = String(date.getDate()).padStart(2, '0');
      const month = String(date.getMonth() + 1).padStart(2, '0'); // Tháng bắt đầu từ 0
      const year = date.getFullYear();

      return `${hours}:${minutes} ${day}-${month}-${year}`;
    }

    async function deleteUsers(id) {
      try {
        const response = await fetch(`https://634026bcd1fcddf69cb27c5b.mockapi.io/wish/list-wish/${id}`, {
          method: 'DELETE',
        });
        if (response.ok) {
          Toastify({
            text: "Xóa nội dung thành công!",
            duration: 3000,
            gravity: "bottom", // "top" or "bottom"
            position: 'center', // "left", "center" or "right"
            backgroundColor: "#333",
          }).showToast();
          document.getElementById(id).style.display = 'none';
          usersLength -= 1
        }
      } catch (error) {
        console.error('Lỗi khi gọi API:', error);
      }
    }

    // Gọi hàm để lấy và hiển thị người dùng khi trang được tải
    fetchUsers();
  </script>
</body>

</html>
